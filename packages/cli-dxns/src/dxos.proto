syntax = "proto3";

package dxos;

message dxnscid {
  bytes data = 1;
}

message ipfscid {
  bytes data = 1;
}

message Any {
  dxnscid schema_cid = 1;
  string mesage_fqn = 2;
  bytes payload = 3;
}

message RecordAttributes {
  string name = 1;
  string description = 2;
  string version = 3;
  string author = 4;
}

message KUBE {
  RecordAttributes attributes = 1;
  string url = 2;

  Any extension = 10;
}

message Service {
  RecordAttributes attributes = 1;
  string type = 2;

  Any extension = 10;
}

message App {
  RecordAttributes attributes = 1;
  string build = 2;
  ipfscid package = 3;
  string repository = 4;
  string repository_version = 5;
  string license = 6;
  repeated string keywords = 7;

  Any extension = 10;
}

message Bot {
  RecordAttributes attributes = 1;
  // Either Docker image (new version) or Bin (old version).
  ipfscid binary_hash = 2;
  string repository = 3;
  string repository_version = 4;
  string license = 5;
  repeated string keywords = 6;

  Any extension = 10;
}

message BotFactory {
  RecordAttributes attributes = 1;
  string os = 2;
  string arch = 3;
  string topic = 4;

  Any extension = 10;
}

message File {
  string content_type = 1;
  string file_name = 2;
  ipfscid binary_hash = 3;

  Any extension = 10;
}
